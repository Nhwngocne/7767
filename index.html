<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chronicles of Class & Nation</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0d0d0d;
            --text-color: #00ff41; /* Xanh Hacker */
            --accent-red: #ff0055;
            --accent-blue: #00ccff;
            --border-style: 4px solid #00ff41;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Press Start 2P', cursive;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            line-height: 1.5;
        }

        /* Khung m√†n h√¨nh Game */
        #game-container {
            width: 800px;
            height: 600px;
            border: var(--border-style);
            padding: 20px;
            position: relative;
            background: radial-gradient(circle, #1a1a1a 0%, #000000 100%);
            box-shadow: 0 0 20px var(--text-color);
        }

        /* C√°c m√†n h√¨nh (Screen) */
        .screen {
            display: none; /* ·∫®n m·∫∑c ƒë·ªãnh */
            height: 100%;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            animation: fadeIn 0.5s ease-in-out;
        }

        .active {
            display: flex; /* Hi·ªán khi ƒë∆∞·ª£c k√≠ch ho·∫°t */
        }

        /* Typography */
        h1 {
            color: var(--accent-blue);
            text-shadow: 2px 2px var(--accent-red);
            font-size: 24px;
            margin-bottom: 30px;
        }

        p {
            font-size: 14px;
            margin-bottom: 20px;
            max-width: 80%;
        }

        .highlight {
            color: yellow;
        }

        /* N√∫t b·∫•m */
        .btn {
            background: transparent;
            border: 2px solid var(--text-color);
            color: var(--text-color);
            padding: 15px 30px;
            font-family: 'Press Start 2P', cursive;
            cursor: pointer;
            margin: 10px;
            font-size: 12px;
            transition: all 0.2s;
            text-transform: uppercase;
        }

        .btn:hover {
            background: var(--text-color);
            color: black;
            box-shadow: 0 0 10px var(--text-color);
        }

        .btn-red {
            border-color: var(--accent-red);
            color: var(--accent-red);
        }
        .btn-red:hover {
            background: var(--accent-red);
            color: white;
            box-shadow: 0 0 10px var(--accent-red);
        }

        /* H√¨nh ·∫£nh minh h·ªça (D√πng Emoji l√†m mockup) */
        .avatar {
            font-size: 80px;
            margin-bottom: 20px;
            animation: float 2s infinite ease-in-out;
        }

        /* AI Disclosure Button */
        #ai-badge {
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 10px;
            color: gray;
            cursor: pointer;
            border: 1px solid gray;
            padding: 5px;
        }

        /* Animations */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Modal AI */
        #ai-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #222;
            border: 2px solid white;
            padding: 20px;
            width: 300px;
            z-index: 100;
            font-size: 10px;
            color: white;
        }
    </style>
</head>
<body>

    <div id="game-container">
        
        <div id="screen-intro" class="screen active">
            <div class="avatar">üåè</div>
            <h1>CHRONICLES OF CLASS & NATION</h1>
            <p>NƒÉm 2050. X√£ h·ªôi ph√¢n c·ª±c. <br>B·∫°n sinh ra ·ªü ƒë√¢u trong th·∫ø gi·ªõi n√†y?</p>
            <div>
                <button class="btn btn-red" onclick="chooseChar('capitalist')">Option A: T∆∞ S·∫£n üï¥Ô∏è</button>
                <button class="btn" onclick="chooseChar('proletariat')">Option B: V√¥ S·∫£n üë∑</button>
            </div>
        </div>

        <div id="screen-story" class="screen">
            <div id="story-img" class="avatar"></div>
            <h2 id="story-title"></h2>
            <p id="story-text"></p>
            <div id="story-choices">
                </div>
        </div>

        <div id="screen-boss" class="screen">
            <div class="avatar">üëπ</div>
            <h1 style="color: var(--accent-red)">BOSS FIGHT: X√ÇM LƒÇNG</h1>
            <p>K·∫ª th√π ngo·∫°i bang ƒëang t·∫•n c√¥ng bi√™n gi·ªõi!<br>Nh√† m√°y b·ªã ph√°, c√¥ng nh√¢n b·ªã b·∫Øt.</p>
            <p class="highlight">Giai c·∫•p hay D√¢n t·ªôc quan tr·ªçng h∆°n l√∫c n√†y?</p>
            
            <button class="btn btn-red" onclick="bossResult('class')">‚öîÔ∏è Ch·ªâ lo cho Giai C·∫•p</button>
            <button class="btn btn-red" onclick="bossResult('nation')">üõ°Ô∏è Ch·ªâ lo cho D√¢n T·ªôc</button>
            <button class="btn" onclick="bossResult('dialectic')">üíé Quan h·ªá BI·ªÜN CH·ª®NG</button>
        </div>

        <div id="screen-result" class="screen">
            <div id="result-icon" class="avatar"></div>
            <h2 id="result-title"></h2>
            <p id="result-text"></p>
            <button class="btn" onclick="location.reload()">Ch∆°i l·∫°i</button>
        </div>

        <div id="ai-badge" onclick="toggleAI()">ü§ñ AI Usage Info</div>
        <div id="ai-modal">
            <h3>AI DISCLOSURE</h3>
            <p>- Code: H·ªó tr·ª£ b·ªüi Gemini AI.</p>
            <p>- N·ªôi dung: Gi√°o tr√¨nh Tri·∫øt h·ªçc M√°c - L√™nin.</p>
            <p>- H√¨nh ·∫£nh: √ù t∆∞·ªüng Pixel Art.</p>
            <button class="btn" onclick="toggleAI()">ƒê√≥ng</button>
        </div>

    </div>

    <script>
        // D·ªÆ LI·ªÜU C·ªêT TRUY·ªÜN
        const storyData = {
            capitalist: {
                icon: "üï¥Ô∏è",
                title: "Giai c·∫•p T∆Ø S·∫¢N",
                text: "B·∫°n s·ªü h·ªØu 10 nh√† m√°y Robot. B·∫°n n·∫Øm trong tay 'T∆∞ li·ªáu s·∫£n xu·∫•t'. Nh∆∞ng c√¥ng nh√¢n ƒëang ƒë√¨nh c√¥ng v√¨ l∆∞∆°ng th·∫•p.",
                btnText: "ƒêu·ªïi vi·ªác h·∫øt!",
                nextScreen: "conflict"
            },
            proletariat: {
                icon: "üë∑",
                title: "Giai c·∫•p V√î S·∫¢N",
                text: "B·∫°n l√†m vi·ªác 14 ti·∫øng/ng√†y nh∆∞ng kh√¥ng ƒë·ªß s·ªëng. B·∫°n kh√¥ng c√≥ t∆∞ li·ªáu s·∫£n xu·∫•t, ch·ªâ c√≥ s·ª©c lao ƒë·ªông.",
                btnText: "ƒê·∫•u tranh ƒë√≤i quy·ªÅn l·ª£i!",
                nextScreen: "conflict"
            },
            conflict: {
                icon: "‚ö°",
                title: "M√ÇU THU·∫™N",
                text: "D√π b·∫°n l√† ai, m√¢u thu·∫´n giai c·∫•p l√† kh√¥ng th·ªÉ tr√°nh kh·ªèi. L√™nin n√≥i: 'ƒê·∫•u tranh giai c·∫•p l√† ƒë·ªông l·ª±c ph√°t tri·ªÉn'.",
                btnText: "Ti·∫øp t·ª•c h√†nh tr√¨nh",
                nextScreen: "boss"
            }
        };

        // H√ÄM CHUY·ªÇN M√ÄN H√åNH
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        // CH·ªåN NH√ÇN V·∫¨T
        function chooseChar(role) {
            const data = storyData[role];
            updateStoryView(data, 'conflict'); // Chuy·ªÉn ƒë·∫øn m√¢u thu·∫´n sau b∆∞·ªõc n√†y
        }

        // C·∫¨P NH·∫¨T GIAO DI·ªÜN C·ªêT TRUY·ªÜN
        function updateStoryView(data, nextStepKey) {
            showScreen('screen-story');
            document.getElementById('story-img').innerText = data.icon;
            document.getElementById('story-title').innerText = data.title;
            document.getElementById('story-text').innerText = data.text;
            
            const choiceDiv = document.getElementById('story-choices');
            choiceDiv.innerHTML = `<button class="btn" onclick="nextStory('${nextStepKey}')">${data.btnText}</button>`;
        }

        function nextStory(key) {
            if (key === 'conflict') {
                updateStoryView(storyData['conflict'], 'boss');
            } else if (key === 'boss') {
                showScreen('screen-boss');
            }
        }

        // X·ª¨ L√ù BOSS FIGHT
        function bossResult(answer) {
            showScreen('screen-result');
            const title = document.getElementById('result-title');
            const text = document.getElementById('result-text');
            const icon = document.getElementById('result-icon');

            if (answer === 'dialectic') {
                icon.innerText = "üèÜ";
                title.innerText = "CHI·∫æN TH·∫ÆNG!";
                title.style.color = "#00ff41";
                text.innerText = "Ch√≠nh x√°c! Giai c·∫•p v√† D√¢n t·ªôc c√≥ quan h·ªá bi·ªán ch·ª©ng. Giai c·∫•p quy·∫øt ƒë·ªãnh t√≠nh ch·∫•t d√¢n t·ªôc, nh∆∞ng d√¢n t·ªôc l√† ƒë·ªãa b√†n ƒë·∫•u tranh c·ªßa giai c·∫•p. B·∫°n ƒë√£ b·∫£o v·ªá ƒë∆∞·ª£c c·∫£ hai!";
            } else {
                icon.innerText = "üíÄ";
                title.innerText = "GAME OVER";
                title.style.color = "red";
                text.innerText = "Sai r·ªìi! N·∫øu ch·ªâ quan t√¢m m·ªôt ph√≠a, b·∫°n s·∫Ω m·∫•t n∆∞·ªõc ho·∫∑c b·ªã c√¥ l·∫≠p. H√£y nh·ªõ: L·ª£i √≠ch giai c·∫•p ch√¢n ch√≠nh th·ªëng nh·∫•t v·ªõi l·ª£i √≠ch d√¢n t·ªôc.";
            }
        }

        // TOGGLE AI MODAL
        function toggleAI() {
            const modal = document.getElementById('ai-modal');
            modal.style.display = modal.style.display === 'block' ? 'none' : 'block';
        }
    </script>
</body>
</html>